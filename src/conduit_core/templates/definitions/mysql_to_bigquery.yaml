# GENERATED BY: conduit template mysql_to_bigquery
# DESCRIPTION: Replicate MySQL table into BigQuery
# LAST UPDATED: 2025-01-18

version: "1.0"
project:
  name: "mysql_to_bigquery_pipeline"
  environment: "production"

sources:
  - name: "mysql_source"
    type: "mysql"
    host: "${MYSQL_HOST}"
    port: 3306
    database: "${MYSQL_DATABASE}"
    user: "${MYSQL_USER}"
    password: "${MYSQL_PASSWORD}"

destinations:
  - name: "bigquery_dest"
    type: "bigquery"
    project: "${GCP_PROJECT_ID}"
    dataset: "analytics"              # UPDATE THIS
    table: "target_table"             # UPDATE THIS
    credentials_path: "${GOOGLE_APPLICATION_CREDENTIALS}"

resources:
  - name: "mysql_to_bigquery"
    source: "mysql_source"
    destination: "bigquery_dest"
    query: "SELECT * FROM source_table"  # UPDATE THIS
    mode: "append"

# HOW TO USE:
# 1. Update query with your source table
# 2. Set all environment variables
# 3. Save as `pipeline.yml`
# 4. Run: `conduit run pipeline.yml`
